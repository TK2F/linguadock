# カスタムCSV作成ガイド

LinguaDock用の独自のCSVファイルを作成する方法を説明します。

---

## クイックスタート

1. UTF-8 BOMエンコードでCSVファイルを作成
2. 必須カラム（id, lang, text, reading_kana, meaning_ja）を含める
3. 設定 → CSVインポートで読み込み

---

## CSVフォーマット (v2.0)

### 必須カラム

| カラム | 説明 | 例 |
|--------|------|-----|
| `id` | 連番（重複不可） | 1, 2, 3... |
| `lang` | 言語コード | pl, en, de, es, id, ko, zh |
| `text` | 学習対象テキスト | Dzień dobry |
| `reading_kana` | カタカナ読み | ジェン・ドブリ |
| `meaning_ja` | 日本語訳 | こんにちは |

### 任意カラム

| カラム | 説明 | 例 |
|--------|------|-----|
| `hint` | ヒント・補足 | 朝〜昼の挨拶 |
| `tags` | カテゴリタグ（カンマ区切り） | 挨拶,基本 |
| `tts_text` | TTS用テキスト（textと異なる場合） | |
| `tts_lang` | TTS言語コード | pl-PL, en-US |
| `example` | 例文 | |
| `quiz_flags` | クイズモード制御（JSON） | {"choice": true} |
| `meta` | 拡張メタデータ（JSON） | |

---

## サンプルCSV

```csv
id,lang,text,reading_kana,meaning_ja,hint,tags
1,es,¡Hola!,オラ,やあ！,カジュアル,挨拶
2,es,Buenos días,ブエノスディアス,おはようございます,午前中,挨拶
3,es,Gracias,グラシアス,ありがとう,感謝,挨拶
```

---

## 対応言語コード

| コード | 言語 | TTSコード |
|--------|------|----------|
| `pl` | ポーランド語 | pl-PL |
| `en` | 英語 | en-US |
| `de` | ドイツ語 | de-DE |
| `fr` | フランス語 | fr-FR |
| `es` | スペイン語 | es-ES |
| `it` | イタリア語 | it-IT |
| `pt` | ポルトガル語 | pt-PT |
| `id` | インドネシア語 | id-ID |
| `ko` | 韓国語 | ko-KR |
| `zh` | 中国語 | zh-CN |
| `ru` | ロシア語 | ru-RU |
| `th` | タイ語 | th-TH |
| `vi` | ベトナム語 | vi-VN |

---

## AIでCSVを生成

LinguaDockには、ChatGPT、Claude、Gemini用のプロンプトを生成するAIプロンプトジェネレーターが含まれています。

1. 設定 → 「🤖 AI でCSV生成」を開く
2. 学習言語を選択
3. トピックを入力（例：レストラン、旅行）
4. 単語数を選択（5〜50語）
5. 「プロンプト生成」→「クリップボードにコピー」
6. お好みのAIツールに貼り付け
7. 生成されたCSVをダウンロードしてインポート

---

## 高品質なCSVのコツ

1. **読み方スタイルを統一** - カタカナのスタイルを決めて一貫させる
2. **カテゴリタグを追加** - アプリでのフィルタリングが可能に
3. **ヒントを含める** - 学習者が文脈を理解しやすくなる
4. **TTSをテスト** - 発音が正しいか確認
5. **1項目1概念** - 各行は1つの概念に集中

---

## トラブルシューティング

### インポートエラー

- **エンコード**: UTF-8 BOMで保存
- **カラム**: 必須カラムがすべて存在するか確認
- **クォート**: カンマを含むテキストはダブルクォートで囲む
- **空行**: 末尾の空行を削除

### TTSが動作しない

- `lang`カラムに有効な言語コードがあるか確認
- `tts_lang`を明示的に指定してみる
- TTSエンジンを切り替える（Chrome TTS ↔ Web Speech API）
